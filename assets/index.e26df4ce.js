import{c as N,a as M,b as B,u as F,d as U,e as H,f as g,o as d,g as p,w as l,h as a,i as y,V as j,j as q,k as K,l as v,m as G,n as w,p as h,r as x,F as R,q as z,s as J,t as Q,v as V,x as X,y as b,z as I,A as L,B as E,C as W,D as O,E as Y,G as Z,H as ee,I as te,J as re,K as oe,L as ne,M as ae,N as se,O as ie,P as le,Q as ce,R as ue,S as de,T as fe,U as pe,W as me}from"./vendor.727e917b.js";const _e=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const t of s.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&n(t)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}};_e();const ve="modulepreload",S={},he="./",m=function(r,i){return!i||i.length===0?r():Promise.all(i.map(n=>{if(n=`${he}${n}`,n in S)return;S[n]=!0;const o=n.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${s}`))return;const t=document.createElement("link");if(t.rel=o?"stylesheet":ve,o||(t.as="script",t.crossOrigin=""),t.href=n,document.head.appendChild(t),o)return new Promise((c,_)=>{t.addEventListener("load",c),t.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>r())},T=()=>m(()=>import("./Router.572544c2.js"),["assets/Router.572544c2.js","assets/vendor.727e917b.js","assets/vendor.c3069acb.css"]),we=()=>m(()=>import("./Welcome.0095767a.js"),["assets/Welcome.0095767a.js","assets/vendor.727e917b.js","assets/vendor.c3069acb.css"]),ge=()=>m(()=>import("./Router.572544c2.js"),["assets/Router.572544c2.js","assets/vendor.727e917b.js","assets/vendor.c3069acb.css"]),ye=()=>m(()=>import("./WindowData.ac067781.js"),["assets/WindowData.ac067781.js","assets/useMobile.047fe684.js","assets/vendor.727e917b.js","assets/vendor.c3069acb.css"]),De=()=>m(()=>import("./MobileTest.720834b2.js"),["assets/MobileTest.720834b2.js","assets/useMobile.047fe684.js","assets/vendor.727e917b.js","assets/vendor.c3069acb.css"]),ke=()=>m(()=>import("./Router.572544c2.js"),["assets/Router.572544c2.js","assets/vendor.727e917b.js","assets/vendor.c3069acb.css"]);var Ve=[{path:"/home/",name:"home",component:T,meta:{text:"Home",parentText:"Home",icon:"fas fa-home",visibleInDrawer:!1},children:[{path:"welcome",component:we,name:"home-welcome",meta:{text:"Welcome",icon:"fas fa-sun",visibleInDrawer:!0}}]},{path:"/testing/",name:"testing",component:ke,meta:{text:"Index",parentText:"Testing",icon:"fas fa-vial",visibleInDrawer:!1},children:[{path:"window-data",name:"window-data",component:ye,meta:{text:"Window data",parentText:"Desktop Testing",icon:"fas fa-desktop",visibleInDrawer:!0}},{path:"mobile-test",name:"mobile-test",component:De,meta:{text:"Permissions",parentText:"Mobile testing",icon:"fas fa-mobile-alt",visibleInDrawer:!0}}]},{path:"/logout",name:"logout",component:T,meta:{text:"Logout",icon:"power-off",visibleInDrawer:!1}},{path:"/:catchAll(.*)",component:ge}];const xe=[...Ve],Re=N({history:M(),routes:xe}),be=B({state(){return{auth:{user:{username:"",mail:""}},drawer:{isOpen:!0}}},mutations:{openDrawer(e){e.drawer.isOpen=!0},closeDrawer(e){e.drawer.isOpen=!1},toggleDrawer(e){e.drawer.isOpen=!e.drawer.isOpen},setDrawer(e,r){e.drawer.isOpen=r}}});function C(){const e=F(),r=U(),i=H(),n=g(()=>r.matched[0]),o=g(()=>r.matched[r.matched.length-1].children),s=g(()=>i.options.routes.filter(f=>f.meta));function t(f){return f?f.filter($=>$.meta.visibleInDrawer):{}}const c=g({get:()=>e.state.drawer.isOpen,set:f=>{P(f)}}),_=()=>e.commit("openDrawer"),u=()=>e.commit("closeDrawer"),k=()=>e.commit("toggleDrawer"),P=f=>e.commit("setDrawer",f);return{drawerIsOpen:c,openDrawer:_,closeDrawer:u,toggleDrawer:k,parentRoute:n,secondaryDrawerRoutes:t,childrenRoutes:o,routesWithMeta:s}}const Ie=w("Test"),Le={setup(e){const{toggleDrawer:r}=C();return(i,n)=>(d(),p(G,{color:"primary",app:""},{default:l(()=>[a(j,{variant:"text",onClick:y(r)},null,8,["onClick"]),a(q,null,{default:l(()=>[Ie]),_:1}),a(K),a(v,{variant:"text",icon:"fas fa-info-circle"}),a(v,{variant:"text",icon:"fas fa-search"}),a(v,{variant:"text",icon:"fas fa-ellipsis-v"})]),_:1}))}},Ee={setup(e){const{drawerIsOpen:r,routesWithMeta:i,secondaryDrawerRoutes:n}=C();return(o,s)=>(d(),p(J,{modelValue:y(r),"onUpdate:modelValue":s[0]||(s[0]=t=>z(r)?r.value=t:null),app:""},{default:l(()=>[(d(!0),h(R,null,x(y(i),t=>(d(),p(Q,{density:"compact",key:t.path},{default:l(()=>[a(X,null,{default:l(()=>[w(V(t.meta.parentText),1)]),_:2},1024),t.meta.visibleInDrawer?(d(),p(b,{key:0,to:t.path},{default:l(()=>[a(L,{class:"d-flex justify-center px-2"},{default:l(()=>[a(I,{icon:t.meta.icon,class:"text-center"},null,8,["icon"])]),_:2},1024),a(E,{textContent:V(t.meta.text),class:"pl-2"},null,8,["textContent"])]),_:2},1032,["to"])):W("",!0),(d(!0),h(R,null,x(y(n)(t.children),c=>(d(),p(b,{key:c.path,to:t.path+c.path},{default:l(()=>[a(L,{class:"d-flex justify-center px-2"},{default:l(()=>[a(I,{icon:c.meta.icon,class:"text-center"},null,8,["icon"])]),_:2},1024),a(E,{textContent:V(c.meta.text),class:"pl-2"},null,8,["textContent"])]),_:2},1032,["to"]))),128))]),_:2},1024))),128))]),_:1},8,["modelValue"]))}};function Oe(e={}){const{immediate:r=!1,onNeedRefresh:i,onOfflineReady:n,onRegistered:o,onRegisterError:s}=e;let t,c;const _=async(u=!0)=>{u&&(t==null||t.addEventListener("controlling",k=>{k.isUpdate&&window.location.reload()})),c&&c.waiting&&await Z(c.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){t=new Y("./sw.ts",{scope:"./",type:"classic"}),t.addEventListener("activated",u=>{u.isUpdate||n==null||n()});{const u=()=>{i==null||i()};t.addEventListener("waiting",u),t.addEventListener("externalwaiting",u)}t.register({immediate:r}).then(u=>{c=u,o==null||o(u)}).catch(u=>{s==null||s(u)})}return _}function A(e={}){const{immediate:r=!0,onNeedRefresh:i,onOfflineReady:n,onRegistered:o,onRegisterError:s}=e,t=O(!1),c=O(!1);return{updateServiceWorker:Oe({immediate:r,onNeedRefresh(){t.value=!0,i==null||i()},onOfflineReady(){c.value=!0,n==null||n()},onRegistered:o,onRegisterError:s}),offlineReady:c,needRefresh:t}}var Se=(e,r)=>{const i=e.__vccOpts||e;for(const[n,o]of r)i[n]=o;return i};const{updateServiceWorker:Te}=A(),We=ee({name:"ReloadPWA",setup(){const{offlineReady:e,needRefresh:r,updateServiceWorker:i}=A();return{offlineReady:e,needRefresh:r,updateServiceWorker:i,close:async()=>{e.value=!1,r.value=!1}}},methods:{async close(){this.offlineReady.value=!1,this.needRefresh.value=!1},async updateServiceWorker(){await Te()}}}),Ce={class:"text-center"},Ae={key:0},Pe={key:1},$e=w("Update"),Ne=w("Close Dialog"),Me=w("Close Dialog");function Be(e,r,i,n,o,s){return d(),h("div",Ce,[a(ne,{"model-value":e.offlineReady||e.needRefresh},{default:l(()=>[a(te,null,{default:l(()=>[a(re,null,{default:l(()=>[e.offlineReady?(d(),h("h3",Ae," The app is ready to work offline.")):(d(),h("h3",Pe," New version available, touch Update to get the latest.")),e.needRefresh?(d(),p(v,{key:2,onClick:r[0]||(r[0]=t=>e.updateServiceWorker()),color:"success"},{default:l(()=>[$e]),_:1})):W("",!0)]),_:1}),a(oe,null,{default:l(()=>[a(v,{color:"primary",block:"",onClick:r[1]||(r[1]=t=>e.dialog=!1)},{default:l(()=>[Ne]),_:1}),a(v,{color:"danger",block:"",onClick:r[2]||(r[2]=t=>e.dialog=!1)},{default:l(()=>[Me]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])])}var Fe=Se(We,[["render",Be]]);const Ue={setup(e){return(r,i)=>{const n=se("router-view");return d(),p(ae,null,{default:l(()=>[a(Le),a(Ee),a(Fe),a(le,null,{default:l(()=>[a(ie,{fluid:""},{default:l(()=>[a(n)]),_:1})]),_:1})]),_:1})}}};async function He(){(await m(()=>import("./webfontloader.f5e2b0ed.js").then(function(r){return r.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}He();const je=ce({components:ue,directives:de,icons:{defaultSet:"fa",aliases:fe,sets:{fa:pe}}}),D=me(Ue);D.use(je);D.use(Re);D.use(be);D.mount("#app");export{Se as _};
