var w=Object.defineProperty;var y=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var b=(e,a,t)=>a in e?w(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,h=(e,a)=>{for(var t in a||(a={}))C.call(a,t)&&b(e,t,a[t]);if(y)for(var t of y(a))I.call(a,t)&&b(e,t,a[t]);return e};import{R as B,D as E,Q as f,b as N,o as F,E as U,j as n,w as l,aa as x,a7 as p,a4 as k,i as g,ab as S,O as T,ac as A,A as j,a8 as q,N as D,v as X,X as z,ad as G}from"./vendor.b3afb12d.js";var c,H=new Uint8Array(16);function L(){if(!c&&(c=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(H)}var O=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Q(e){return typeof e=="string"&&O.test(e)}var s=[];for(var v=0;v<256;++v)s.push((v+256).toString(16).substr(1));function J(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(s[e[a+0]]+s[e[a+1]]+s[e[a+2]]+s[e[a+3]]+"-"+s[e[a+4]]+s[e[a+5]]+"-"+s[e[a+6]]+s[e[a+7]]+"-"+s[e[a+8]]+s[e[a+9]]+"-"+s[e[a+10]]+s[e[a+11]]+s[e[a+12]]+s[e[a+13]]+s[e[a+14]]+s[e[a+15]]).toLowerCase();if(!Q(t))throw TypeError("Stringified UUID is invalid");return t}function K(e,a,t){e=e||{};var o=e.random||(e.rng||L)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,a){t=t||0;for(var u=0;u<16;++u)a[t+u]=o[u];return a}return J(o)}const M=X("Add recipe"),P=z("h4",null,"Image preview",-1),Z=B({setup(e){const a=E(),t=f(),o=f({base64:null});var u=N("recipes",[]),r=f({name:"",steps:[{}]}),i=f(!0);const _=V=>{t.value=V.target.files[0],o.value=G(t)},R=()=>{if(!i){console.log("error");return}r.value=h({id:K(),img:o.value.base64},r.value),u.value.push(r.value),a.push({name:"cooking-show",params:{id:r.value.id}})};return(V,m)=>(F(),U(D,null,[n(A,{ref:"form",modelValue:g(i),"onUpdate:modelValue":m[1]||(m[1]=d=>T(i)?i.value=d:i=d),"lazy-validation":""},{default:l(()=>[n(x,null,{default:l(()=>[n(p,{cols:"12",sm:"12",md:"6",lg:"3"},{default:l(()=>[n(k,{modelValue:g(r).name,"onUpdate:modelValue":m[0]||(m[0]=d=>g(r).name=d),counter:10,rules:[d=>!!d||"Name is required"],label:"Name",required:""},null,8,["modelValue","rules"])]),_:1}),n(p,{cols:"12",sm:"12",md:"6",lg:"3"},{default:l(()=>[n(S,{onInput:_,label:"Image",filled:"","prepend-icon":"fas fa-camera"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(j,{color:"success",onClick:R},{default:l(()=>[M]),_:1}),n(x,{class:"mt-4"},{default:l(()=>[n(p,{cols:"12",sm:"12",md:"6",lg:"3"},{default:l(()=>[P,n(q,{src:o.value.base64,class:"white--text align-end",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"200px",cover:""},null,8,["src"])]),_:1})]),_:1})],64))}});export{Z as default};
